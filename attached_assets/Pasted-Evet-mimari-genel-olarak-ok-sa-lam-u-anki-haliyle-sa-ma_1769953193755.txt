Evet, mimari genel olarak Ã§ok saÄŸlam. Åu anki haliyle â€œsaÃ§malamaâ€ problemini Ã¼reten hiÃ§bir yapÄ±sal aÃ§Ä±k yok. Bu, WhatsApp botlar iÃ§in production-grade bir akÄ±ÅŸ.

Ama asÄ±l kritik soru ÅŸuydu:

â€œBu sisteme SSSâ€™de olmayan / beklenmeyen sorularÄ±, iÃ§erideki bilgileri birleÅŸtirerek cevap veren AI eklemek mantÄ±klÄ± mÄ±? Yoksa sistemi bozar mÄ±?â€

Cevap: YanlÄ±ÅŸ yere AI koyarsan sistemi bozar. DoÄŸru yere koyarsan sistemi bÃ¼yÃ¼tÃ¼r.
AÅŸaÄŸÄ±da bunu Ã§ok net sÄ±nÄ±rlarla anlatacaÄŸÄ±m.

1ï¸âƒ£ Mevcut Mimari DeÄŸerlendirmesi (Net ve DÃ¼rÃ¼st)
âœ… Ã‡ok doÄŸru yaptÄ±ÄŸÄ±n ÅŸeyler

Bunlar genelde gÃ¶zden kaÃ§Ä±rÄ±lÄ±r ama sen doÄŸru kurmuÅŸsun:

SSSâ€™nin en Ã¼st Ã¶ncelik olmasÄ±
â†’ deterministic cevaplar = sÄ±fÄ±r risk

Intent + Template ayrÄ±mÄ±
â†’ â€œcevap Ã¼retmekâ€ â‰  â€œcevap yazmakâ€

Conversation state (TTL, lastActivity, repeatCount)
â†’ WhatsApp botlarÄ±nÄ±n %80â€™i burada Ã§Ã¶kÃ¼yor, sen Ã§Ã¶zmÃ¼ÅŸsÃ¼n

Regexâ€™in keywordâ€™Ã¼n Ã¶nÃ¼nde olmasÄ±
â†’ â€œne kadar sÃ¼rerâ€ vs â€œne kadarâ€ Ã§akÄ±ÅŸmasÄ± Ã§Ã¶zÃ¼lmÃ¼ÅŸ

Repeat Guard
â†’ mÃ¼ÅŸteri siniri Ã¶nleme = gerÃ§ek dÃ¼nya kalitesi

ğŸ” Åu haliyle bu sistem BOZULMAZ.

2ï¸âƒ£ Bu Mimariyi Bozabilecek 2 Tek Åey Var

BunlarÄ± yaparsan geÃ§miÅŸte yaÅŸadÄ±ÄŸÄ±n kaos geri gelir:

âŒ 1. AIâ€™yÄ± Intent Tespitine Sokmak

â€œAI intentâ€™i anlasÄ±nâ€

âŒ HayÄ±r.
Bu, deterministik yapÄ±yÄ± Ã§Ã¶zer.

âŒ 2. AIâ€™ya â€œcevabÄ± kendin Ã¼retâ€ demek

â€œSSS yoksa AI cevaplasÄ±nâ€

âŒ HayÄ±r.
Bu, broÅŸÃ¼r moduna geri dÃ¶nÃ¼ÅŸ demek.

3ï¸âƒ£ Peki AI NEREDE MantÄ±klÄ±?
âœ… DOÄRU YER: Intent FAILOVER + BÄ°LGÄ° BÄ°RLEÅTÄ°RÄ°CÄ°

Yani:

SSS yok

Intent yok

Ama kullanÄ±cÄ± mantÄ±klÄ± bir ÅŸey sormuÅŸ

Ã–rnek:

â€œuÃ§uÅŸ sÄ±rasÄ±nda fotoÄŸraf Ã§ekiliyor mu ve ne zaman veriliyor?â€

Bu:

Tek bir SSS deÄŸil

Tek bir intent deÄŸil

Ama DBâ€™deki bilgilerle cevaplanabilir

4ï¸âƒ£ DOÄRU AI ENTEGRASYON MODELÄ° (SÄ°STEMÄ° BOZMADAN)
ğŸ”’ â€œAI ASLA KONTROLÃœ ALMAZâ€

AI sadece ÅŸu noktada Ã§alÄ±ÅŸÄ±r:

EÄER:
- SSS eÅŸleÅŸmedi
- Intent bulunamadÄ±
- Support deÄŸil
- Repeat guard tetiklenmedi

O ZAMAN:
â†’ AI_FALLBACK()

ğŸ§  AI_FALLBACK NASIL Ã‡ALIÅIR?

AIâ€™ya ASLA serbest prompt verme.

Åu yapÄ±yÄ± kullan:

{
  "allowed_fields": [
    "price",
    "duration",
    "transfer",
    "extras",
    "safety",
    "media",
    "schedule"
  ],
  "activity_data": {
    "name": "YamaÃ§ ParaÅŸÃ¼tÃ¼",
    "price": "6000 TL",
    "duration": "25-30 dk",
    "transfer": "Ãœcretsiz",
    "media": "FotoÄŸraf + Video dahil",
    "safety": "THK ve FAI lisanslÄ± pilotlar"
  },
  "rules": [
    "Bu alanlar dÄ±ÅŸÄ±nda bilgi uydurma",
    "En fazla 2 cÃ¼mle",
    "Teknik olmayan dil",
    "SatÄ±ÅŸ yapma"
  ]
}


AI sadece:

var olan alanlarÄ± birleÅŸtirir

yorum yapmaz

yeni bilgi eklemez

ğŸ“Œ Bu kritik: AI = sentence composer

5ï¸âƒ£ GÃ¼venlik SigortasÄ± (Ã‡OK Ã–NEMLÄ°)

AI cevap verdikten sonra son bir filtre koy:

if (aiAnswer.includes("garanti") ||
    aiAnswer.includes("kesinlikle") ||
    aiAnswer.length > MAX_LENGTH) {
  fallbackToHuman();
}

6ï¸âƒ£ Hangi Sorular AIâ€™ya Gitsin / Gitmesin?
âŒ AIâ€™ya ASLA gitmemesi gerekenler

Fiyat

SÃ¼re

Saat

Ã–deme

Ä°ptal

Transfer

Bunlar her zaman template

âœ… AIâ€™ya gidebilecekler

BirleÅŸik sorular

DoÄŸal cÃ¼mleler

â€œilk kez uÃ§acaÄŸÄ±m, korkuyorumâ€

â€œfotoÄŸraflar ne zaman veriliyorâ€

7ï¸âƒ£ Ã–nerilen Son Mimari Ek (1 Blok)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 10. AI FALLBACK (LIMITED) â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚ â€¢ SSS yok                 â”‚
â”‚ â€¢ Intent yok              â”‚
â”‚ â€¢ Context var             â”‚
â”‚ â€¢ Sadece DB verisi        â”‚
â”‚ â€¢ Max 2 cÃ¼mle             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


Bu blok opsiyonel, default kapalÄ± bile olabilir.

ğŸ¯ NET SONUÃ‡
Sorunun cevabÄ±:

â€œAI eklemek mantÄ±klÄ± mÄ±?â€

Evet, AMA:

âŒ Ana motor yapma

âŒ Intentâ€™i AIâ€™ya bÄ±rakma

âŒ CevabÄ± AIâ€™ya uydurtma

Åu ÅŸartla ekle:

AI = sadece â€œanlamlÄ± ama kalÄ±ba girmeyenâ€ sorular iÃ§in,
sadece mevcut veriyi birleÅŸtiren bir dil katmanÄ±.

BÃ¶yle yaparsan:

Sistem bozulmaz

MÃ¼ÅŸteri memnuniyeti artar

â€œBot saÃ§malÄ±yorâ€ geri gelmez