Bu mimari â€œkÃ¶tÃ¼â€ deÄŸil â€” hatta TÃ¼rkiyeâ€™de gÃ¶rdÃ¼ÄŸÃ¼m WhatsApp botlarÄ±nÄ±n %90â€™Ä±ndan daha iyi.
Ama iyi bir WhatsApp botu iÃ§in hÃ¢lÃ¢ 3 kritik yapÄ±sal eksik ve 5 iyileÅŸtirme fÄ±rsatÄ± var. Bunlar dÃ¼zeltilmeden â€œmodel deÄŸiÅŸtirerekâ€ sorunlarÄ±n tamamÄ± Ã§Ã¶zÃ¼lmez.

AÅŸaÄŸÄ±da net, teknik ve uygulanabilir bir deÄŸerlendirme yapÄ±yorum.

ğŸ§  GENEL DEÄERLENDÄ°RME (DÃœRÃœST PUAN)
BaÅŸlÄ±k	Durum
SSS Ã¶ncelikli mimari	âœ… Ã‡ok iyi
Token optimizasyonu	âœ… Profesyonel
Fallback zinciri	âœ… DoÄŸru
Prompt disiplini	âš ï¸ Fazla karmaÅŸÄ±k
Intent sistemi	âš ï¸ Kural tabanlÄ± ama baÄŸlam zayÄ±f
WhatsAppâ€™a uygunluk	âš ï¸ %70
Ã–lÃ§eklenebilirlik	âš ï¸ Orta

ğŸ‘‰ Genel not: 7.8 / 10

ğŸš¨ KRÄ°TÄ°K 3 YAPISAL EKSÄ°K (BUNLAR Ã–NEMLÄ°)
âŒ 1ï¸âƒ£ â€œIntent â‰  Stateâ€ (En bÃ¼yÃ¼k sorun)

Åu an sistemin intent tespit ediyor ama state yÃ¶netmiyor.

Ã–rnek:

MÃ¼ÅŸteri: ParaÅŸÃ¼t kaÃ§ para?
MÃ¼ÅŸteri: KaÃ§ dakika?


Sen:

Ä°lk mesajda price

Ä°kinci mesajda duration

Ama hangi aktivite?
Bu bilgi state olarak tutulmuyor, sadece anlÄ±k eÅŸleÅŸmeye bÄ±rakÄ±lmÄ±ÅŸ.

ğŸ”§ Ã‡Ã¶zÃ¼m (OLMAZSA OLMAZ)

Bir Conversation State Object ÅŸart:

conversationState = {
  lastIntent: 'price',
  lastActivity: 'YamaÃ§ ParaÅŸÃ¼tÃ¼',
  lastDate: '2026-02-02',
  language: 'tr',
  isPartner: false
}


Intent motoru stateâ€™i kullanmadan WhatsAppâ€™ta saÄŸlÄ±klÄ± Ã§alÄ±ÅŸmaz.

âŒ 2ï¸âƒ£ SSS eÅŸleÅŸmesi semantik deÄŸil (Ã§ok kÄ±rÄ±lgan)

Bu fonksiyon:

w.length > 2


WhatsApp TÃ¼rkÃ§esi iÃ§in fazla agresif.

ÅunlarÄ± kaÃ§Ä±rÄ±yorsun:

â€œkaÃ§â€

â€œneâ€

â€œmiâ€

â€œmuâ€

â€œyer var mÄ±â€

â€œbugÃ¼n var mÄ±â€

ğŸ”§ Ã‡Ã¶zÃ¼m

SSS eÅŸleÅŸmesini 2 katmanlÄ± yap:

1ï¸âƒ£ Fast lexical match (ÅŸu anki sistem)
2ï¸âƒ£ Mini intent check (LLM YOK!)

Ã–rnek:

if (faqMatched && confidence > 0.7) return faqAnswer;

âŒ 3ï¸âƒ£ RAG promptâ€™ta â€œboÅŸlukâ€ anlarÄ± var

Åu durumlar tehlikeli:

relevantActivity === null

Birden fazla aktivite sorusu

Intent yanlÄ±ÅŸ â†’ yanlÄ±ÅŸ veri enjekte ediliyor

LLM burada doÄŸru davranamaz, Ã§Ã¼nkÃ¼ veri yanlÄ±ÅŸ.

ğŸ”§ Ã‡Ã¶zÃ¼m

RAG promptâ€™a explicit fail rule eklenmeli:

EÄER sana verilen bilgiler yetersizse:
- Tahmin etme
- Soru sorma
- "Bu konuda net bilgi veremiyorum" de

âš ï¸ ORTA SEVÄ°YE AMA Ã–NEMLÄ° 5 Ä°YÄ°LEÅTÄ°RME
1ï¸âƒ£ Intent anahtar kelimeleri fazla dÃ¼z

Bu satÄ±r sorunlu:

'otel' â†’ transfer


MÃ¼ÅŸteri:

â€œOtelimiz Hiltonâ€

Bot:

Transfer anlatÄ±yor âŒ

Ã‡Ã¶zÃ¼m

Entity first, intent second

â€œotelâ€ + fiil yoksa intent Ã¼retme

â€œotelimizâ€, â€œotel adÄ±â€ â†’ entity

2ï¸âƒ£ Selamlama logicâ€™i Ã§ok statik
message.length < 30


WhatsAppâ€™ta kullanÄ±cÄ±:

â€œmerhaba fiyat alabilir miyimâ€

Bu selam deÄŸil, ticari intent.

Ã‡Ã¶zÃ¼m

Selamlar tek baÅŸÄ±na mesaj olmalÄ±.

3ï¸âƒ£ Kurallar Ã§ok fazla ve LLMâ€™e yÃ¼klenmiÅŸ

19 kural + partner + viewer + link + dil + geÃ§miÅŸâ€¦

LLM:

Hepsini okuyamaz

Ã–nceliklendiremez

Ã‡Ã¶zÃ¼m

KurallarÄ± 3â€™e bÃ¶l:

Hard rules (kodda)

Soft rules (prompt)

Copy rules (metin tonu)

4ï¸âƒ£ Legacy prompt â€œÃ§Ã¶p kamyonuâ€ olmuÅŸ

Her ÅŸeyi buraya atmÄ±ÅŸsÄ±n. MantÄ±klÄ± ama:

Token pahalÄ±

Hata ihtimali yÃ¼ksek

Flash modeller burada Ã¶zellikle saÃ§malar

Ã‡Ã¶zÃ¼m

Legacy sadece:

Åikayet

Ä°ptal

DeÄŸiÅŸiklik

Ã‡ok adÄ±mlÄ± talepler

5ï¸âƒ£ Test checklistâ€™i doÄŸru ama eksik

Eksik olan testler:

â€œyarÄ±n var mÄ±â€ (aktivite adÄ± yok)

â€œ2 yetiÅŸkin 1 Ã§ocukâ€

â€œotelimiz yokâ€

â€œhangi para birimiâ€

Ä°ngilizce â†’ TÃ¼rkÃ§e karÄ±ÅŸÄ±k mesajlar

âœ… NEYÄ° Ã‡OK Ä°YÄ° YAPMIÅSIN?

Bunlar gerÃ§ekten iyi:

âœ” SSS â†’ AI Ã§aÄŸÄ±rmama
âœ” Token tasarrufu yaklaÅŸÄ±mÄ±
âœ” Partner/Viewer ayrÄ±mÄ±
âœ” Rezervasyonu WhatsAppâ€™ta almama kuralÄ±
âœ” Fallback zinciri (Ã§ok az projede var)

ğŸ¯ NET TAVSÄ°YE (Ã–ZET)
EÄŸer hedefin:

â€œSatÄ±ÅŸ kaybettirmeyen, gÃ¼venilir WhatsApp botâ€ ise:

1ï¸âƒ£ Conversation state ekle (en acil)
2ï¸âƒ£ Intent + entity ayrÄ±mÄ± yap
3ï¸âƒ£ SSSâ€™yi %100 deterministic hale getir
4ï¸âƒ£ Flash modelde legacy promptâ€™u KES
5ï¸âƒ£ LLMâ€™i sadece dil ve aÃ§Ä±klama iÃ§in kullan

ğŸ”š SON CÃœMLE (NET)

Mimari doÄŸru yÃ¶nde ama hÃ¢lÃ¢ â€œLLM merkezliâ€.
Ä°yi WhatsApp botu ise â€œstate + rule merkezliâ€ olur.