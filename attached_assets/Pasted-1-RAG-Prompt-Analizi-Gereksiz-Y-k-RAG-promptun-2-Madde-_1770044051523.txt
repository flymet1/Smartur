1. RAG Prompt Analizi (Gereksiz YÃ¼k)
RAG promptun (2. Madde) Ã§ok fazla "yasak" ve "kural" iÃ§eriyor. GPT-4o gibi modellerde Ã§ok fazla negatif emir ("ÅŸunu yapma", "bunu sÃ¶yleme") bazen modelin kafasÄ±nÄ± karÄ±ÅŸtÄ±rÄ±r.

Tavsiye: Switch(intent.type) yapÄ±sÄ± Ã§ok gÃ¼zel ancak greeting durumunda bile bota koca bir prompt gÃ¶nderiyorsun.

DÃ¼zeltme: EÄŸer kullanÄ±cÄ± sadece "Selam" verdiyse, buildRAGPrompt yerine Ã§ok daha hafif, sadece selamlama yetkisi olan bir prompt gÃ¶ndererek token tasarrufu yapabilirsin.

2. AI-First Prompt (JSON) Ä°Ã§in Kritik Ä°yileÅŸtirme
JSON yapÄ±n (3. Madde) Ã§ok temiz. Ancak modelin matematiksel hesaplama yaparken hata yapmamasÄ± iÃ§in kÃ¼Ã§Ã¼k bir dokunuÅŸ lazÄ±m:

Sorun: priceNumeric deÄŸerini veriyorsun ama model bazen "6000 TL" metnine takÄ±lÄ±p Ã§arpma iÅŸlemini unutabilir.

Ä°yileÅŸtirme: Prompt iÃ§ine ÅŸu cÃ¼mleyi ekle:

"Hesaplama yaparken sadece priceNumeric alanÄ±nÄ± baz al. MÃ¼ÅŸteriye sonucu sÃ¶ylerken 'Toplam tutar: [SonuÃ§] TL' ÅŸeklinde net bir ÅŸekilde ifade et."

3. "DÃ¶viz" ve "Dil" Paradoksu
Promptta "FiyatlarÄ± sadece TL olarak sÃ¶yle" demiÅŸsin ama JSON iÃ§inde priceUsd gÃ¶nderiyorsun.

Ã‡eliÅŸki: Ä°ngilizce konuÅŸan bir turist genelde Dolar/Euro fiyatÄ±nÄ± bilmek ister.

Tavsiye: EÄŸer isEnglish true ise, Ã¶nceliÄŸi priceUsd'ye ver. "FiyatlarÄ± sadece TL sÃ¶yle" kuralÄ±nÄ± sadece TÃ¼rkÃ§e konuÅŸmalar iÃ§in sÄ±nÄ±rlandÄ±r.

4. En BÃ¼yÃ¼k Risk: "Veri SÄ±zÄ±ntÄ±sÄ±" (Technical Leak)
Prompt iÃ§inde hala NOT:, S:, C: gibi ifadelerin mÃ¼ÅŸteriye gÃ¶sterilmemesi gerektiÄŸini hatÄ±rlatÄ±yorsun.

KÃ¶kten Ã‡Ã¶zÃ¼m: JSON'a veriyi basmadan Ã¶nce description veya faqs iÃ§indeki bu ibareleri kod tarafÄ±nda (Regex ile) temizle. AI'ya kirli veri verip "bunu temizle" demek yerine, AI'ya temiz veri verip "bunu kullan" demek daha garantidir.

5. Konum ve Adres (Manuel GiriÅŸten Kurtulma)
"Adres manuel girilmiÅŸ, webden alsa daha iyi olmaz mÄ±?" demiÅŸtin.

Ã‡Ã¶zÃ¼m: buildAIFirstPrompt fonksiyonunda dataJson.company.address kÄ±smÄ±na manuel metin yazmak yerine, veritabanÄ±ndaki tenant_settings tablosundan gelen address kolonunu baÄŸla.

Aktivite bazlÄ± buluÅŸma noktasÄ± iÃ§inse; her aktivitenin JSON objesine bir googleMapsLink anahtarÄ± ekle.

ğŸš€ Uygulaman Gereken "AltÄ±n" DokunuÅŸlar (Ã–zet)
Matematik: priceNumeric talimatÄ±nÄ± "Kesin Hesapla" diyerek vurgula.

Tracking Link: [trackingLink] ibaresini promptta bÄ±rakma. GPT-4o bunu bazen metin olarak (kÃ¶ÅŸeli parantezlerle) yazabilir. dataJson.customerReservation.trackingLink ÅŸeklinde doÄŸrudan JSON yolunu gÃ¶ster.

HafÄ±za: Promptun sonuna SON MESAJLAR kÄ±smÄ±nÄ± eklediÄŸinden emin ol. GPT-4o geÃ§miÅŸ mesajlarÄ± gÃ¶rmezse "Ofis nerede?" sorusuna (hangi aktivite olduÄŸunu bilmediÄŸi iÃ§in) cevap veremez.

A/B Testi: AI-First Prompt senin ana silahÄ±n olsun. RAG Prompt ise daha Ã§ok "Intent" yakalanamayan durumlar iÃ§in yedek kalsÄ±n.