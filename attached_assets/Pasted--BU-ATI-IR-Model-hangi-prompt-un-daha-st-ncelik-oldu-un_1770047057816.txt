ğŸ”´ BU Ã‡ATIÅIR.
Model hangi promptâ€™un daha Ã¼st Ã¶ncelik olduÄŸunu karÄ±ÅŸtÄ±rÄ±r.

âœ… Ã‡Ã–ZÃœM (Ã–NERÄ°LEN):

Kural hiyerarÅŸisini netleÅŸtir:

RAG â†’ Her zaman TL

AI-FIRST â†’ Dil bazlÄ± para birimi

Bunu aÃ§Ä±kÃ§a yaz:

âš ï¸ PRIORITY RULE:
- RAG MODE â†’ Prices are ALWAYS in TL (regardless of language)
- AI-FIRST MODE â†’ Currency follows language (EN = USD, TR = TL)


Ya da daha temiz Ã§Ã¶zÃ¼m:
â¡ï¸ RAGâ€™te USDâ€™yi tamamen kapat, sadece AI-FIRSTâ€™te aÃ§.

2ï¸âƒ£ FALLBACK vs RAG â€œTAKÄ°P SORUSUâ€ Ã‡ATIÅMASI

Fallback:

- Never ask follow-up questions


RAG / AI-First:

After answering, ask "Rezervasyon yapmak ister misiniz?"


Bu teknik olarak sorun deÄŸil AMA routing net olmalÄ±.

âœ… Ã‡Ã–ZÃœM:

Fallback Ã§aÄŸrÄ±ldÄ±ÄŸÄ±nda asla AI-Firstâ€™e geÃ§ilmemeli.

Kod tarafÄ±nda ÅŸunu garanti et:

if (fallbackTriggered) {
  stopPipeline(); // no RAG, no AI-FIRST
}


Bunu yapmazsan bazen:

Fallback cevap verir â†’ sonra AI-First ek soru sorar
gibi â€œÃ§ift kiÅŸilikâ€ davranÄ±ÅŸ olur.

3ï¸âƒ£ RAG Ã–RNEKLERÄ°NDE REZERVASYON TEKLÄ°FÄ° VAR

RAG Few-shot Ã¶rneklerinde:

"Rezervasyon yapmak ister misiniz?"


Ama fallbackâ€™te bu yasak.

Bu normal ama riskli bir Ã¶ÄŸrenme etkisi yaratÄ±r.

âœ… Ã–NERÄ°:

RAG Ã¶rneklerinin baÅŸÄ±na net etiket ekle:

âš ï¸ The following examples apply ONLY to RAG mode.
âš ï¸ These rules do NOT apply to AI FALLBACK.


Bu kÃ¼Ã§Ã¼k satÄ±r bile modeli ciddi ÅŸekilde stabilize eder.

âš ï¸ ORTA SEVÄ°YE RÄ°SKLER (Ä°YÄ°LEÅTÄ°RME Ã–NERÄ°LERÄ°)
4ï¸âƒ£ â€œÄ°ndirim / Kampanyaâ€ Senaryosu (Senin sorduÄŸun konu)

Bu kÄ±sÄ±m doÄŸru yÃ¶nde, ama tek risk:
AI kampanyayÄ± uydurabilir.

âœ… GÃœVENLÄ° MODEL (Ã–NERÄ°LEN):

Kampanya iÃ§in AI deÄŸil â†’ kural tabanlÄ± mini akÄ±ÅŸ

IF discountAsked AND campaignExists:
  Ask activity
ELSE IF discountAsked AND noCampaign:
  "Åu an aktif bir kampanyamÄ±z yok."


AIâ€™ye sadece metni Ã¼retme iÅŸi ver, kararÄ± deÄŸil.

Bu senaryoda AIâ€™nin rolÃ¼:

â€œverilen kampanya bilgisini dÃ¼zgÃ¼n cÃ¼mleye dÃ¶kmekâ€

5ï¸âƒ£ RAG PROMPT Ã‡OK BÃœYÃœK (Token Drift Riski)

1500 tokenâ€™lÄ±k RAG promptâ€™ta:

Few-shot

Kurallar

Partner

Viewer

Aktarma

Format

Uzun vadede ÅŸu olur:

Model bazÄ± kurallarÄ± â€œunuturâ€

âœ… Ä°YÄ°LEÅTÄ°RME:

RAGâ€™i 2â€™ye bÃ¶l (kod tarafÄ±nda):

RAG_CORE_RULES (deÄŸiÅŸmez)

RAG_DYNAMIC_CONTEXT (intent + activity)

Bu production botlarda Ã§ok kullanÄ±lan bir yÃ¶ntem.

6ï¸âƒ£ â€œAsla hangi aktivite iÃ§in sormaâ€ KuralÄ±

Bu kural doÄŸru ama tek risk:

Ä°lk mesaj â€œfiyat neâ€ ise aktivite hiÃ§ belli olmayabilir.

âœ… EMNÄ°YET KEMERÄ°:

Sadece ilk mesajda istisna ekle:

If no activity can be inferred from history AND this is the first user message:
You may ask ONE clarification question.


Aksi halde bot bazen yanlÄ±ÅŸ aktivite Ã¼zerinden fiyat verir.

7ï¸âƒ£ AI-FIRSTâ€™te â€œAny other questions?â€ Riski

BazÄ± WhatsApp botlarÄ± iÃ§in bu:

DÃ¶ngÃ¼ye sokar

BoÅŸ konuÅŸma yaratÄ±r

âœ… Ã–NERÄ°:

Bu soruyu sadece pricing / booking stageâ€™de sor.

ğŸ§  STRATEJÄ°K SONUÃ‡

â“ â€œBu sistemde AI sadece SSS tam cevap yoksa mantÄ±ksal birleÅŸtirme yapacak mÄ±?â€

Evet â€” ve bu ÅŸu an DOÄRU ÅŸekilde kurulmuÅŸ.

Rol daÄŸÄ±lÄ±mÄ±n net:

âŒ AI karar verici deÄŸil

âœ… AI ifade edici

âœ… Veriye dayalÄ±

âœ… Kurallarla Ã§evrili

Bu, production WhatsApp botu iÃ§in ideal yaklaÅŸÄ±m.