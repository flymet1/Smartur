AÅŸaÄŸÄ±da sana gerÃ§ek hayatta bu mimariyle yaÅŸanan OLABÄ°LECEK sorunlarÄ± ve net Ã¶nlemlerini vereceÄŸim. Teorik deÄŸil, birebir yaÅŸanan senaryolar.

1ï¸âƒ£ Intent YanlÄ±ÅŸ EÅŸleÅŸmesi (En YaygÄ±n Risk)
ğŸ”´ Sorun

KullanÄ±cÄ±:

â€œrafting ne kadar sÃ¼rÃ¼yorâ€

Sistem:

ne kadar â†’ price intent

ama soru duration

ğŸŸ¢ Ã–nlem (ZORUNLU)

Intent Ã¶ncelik sÄ±rasÄ± koy

const INTENT_PRIORITY = [
  "availability",
  "duration",
  "price",
  "transfer",
  "activity_info"
];


Ve ÅŸunu uygula:

â€œkaÃ§ dk / sÃ¼rÃ¼yor / dakikaâ€ â†’ her zaman duration

â€œne kadarâ€ tek baÅŸÄ±na ise price

ğŸ“Œ Regex + priority ÅŸart, sadece keyword yetmez.

2ï¸âƒ£ Aktivite BaÄŸlamÄ±nÄ±n KaybolmasÄ±
ğŸ”´ Sorun

KonuÅŸma:

rafting ne kadar
â†’ rafting fiyatÄ±
kaÃ§ dakika
â†’ yamaÃ§ paraÅŸÃ¼tÃ¼ sÃ¼resi (HATA)

ğŸŸ¢ Ã–nlem

Session Context zorunlu

session = {
  lastActivity: "rafting",
  lastIntent: "price",
  lastUpdated: 1700000000
}


Kurallar:

Yeni aktivite adÄ± yoksa â†’ lastActivity

10 dk geÃ§erse â†’ context reset

ğŸ“Œ WhatsApp botlarda context sÃ¼resi kritik

3ï¸âƒ£ Ã‡ok KÄ±sa / Ã‡ok Uzun Cevap SapmasÄ±
ğŸ”´ Sorun

BazÄ± cevaplar:

Gereksiz uzun

BroÅŸÃ¼r gibi

SatÄ±ÅŸ diline kaÃ§Ä±yor

ğŸŸ¢ Ã–nlem

AI yoksa bile:

MAX_SENTENCE = 2
NO_EXTRA_INFO = true


Her intent iÃ§in:

price â†’ 1 cÃ¼mle

duration â†’ 1 cÃ¼mle

activity_info â†’ max 3 madde

ğŸ“Œ Bu kurallarÄ± kod seviyesinde zorla, promptâ€™a bÄ±rakma.

4ï¸âƒ£ TanÄ±nmayan Soru (Undefined Intent)
ğŸ”´ Sorun

KullanÄ±cÄ±:

â€œuÃ§uÅŸ gÃ¼venli mi rÃ¼zgar olursa ne olurâ€

Sistem:

hiÃ§bir intentâ€™e uymuyor

yanlÄ±ÅŸ template Ã§alÄ±ÅŸÄ±yor

ğŸŸ¢ Ã–nlem

Fallback ÅŸart

Bunu tam anlayamadÄ±m ğŸ™
Ä°sterseniz ÅŸu konularda yardÄ±mcÄ± olabilirim:
â€¢ Fiyat
â€¢ SÃ¼re
â€¢ Saatler
â€¢ Transfer


ğŸ“Œ Asla uydurma cevap verme
ğŸ“Œ Asla baÅŸka aktivite anlatma

5ï¸âƒ£ AynÄ± Sorunun DÃ¶ngÃ¼ye Girmesi
ğŸ”´ Sorun

KullanÄ±cÄ±:

fiyat
ne kadar
kaÃ§ para


Bot:

AynÄ± cevabÄ± 3 kez verir

MÃ¼ÅŸteri sinirlenir

ğŸŸ¢ Ã–nlem

Repeat Guard

if (sameIntentRepeated >= 2) {
  suggestNextStep();
}


Ã–rnek:

â€œFiyat bilgisini paylaÅŸtÄ±m.
Ä°sterseniz rezervasyon linkini gÃ¶nderebilirim.â€

6ï¸âƒ£ DB GÃ¼ncellemesi AnÄ±nda Cache Sorunu
ğŸ”´ Sorun

Admin panel fiyat gÃ¼ncelledi

Bot eski fiyatÄ± cevapladÄ±

ğŸŸ¢ Ã–nlem

In-memory cache varsa â†’ TTL max 5 dk

Ya da her price request â†’ fresh DB read

ğŸ“Œ Fiyat = asla stale data

7ï¸âƒ£ Ä°nsan Aktarma KuralÄ±nÄ±n Delinmesi
ğŸ”´ Sorun

KullanÄ±cÄ±:

â€œbir yetkiliyle konuÅŸmak istiyorumâ€

Ama intent sistemi bunu anlayamaz.

ğŸŸ¢ Ã–nlem

Hard keyword list

["canlÄ±", "yetkili", "insan", "biriyle konuÅŸ"]


Bunlar her ÅŸeyin Ã¶nÃ¼ne geÃ§er.

8ï¸âƒ£ Gelecekte Aktivite SayÄ±sÄ± ArtÄ±nca KarmaÅŸa
ğŸ”´ Sorun

3 aktivite â†’ sorun yok

12 aktivite â†’ isim Ã§akÄ±ÅŸmalarÄ±

ğŸŸ¢ Ã–nlem

Her aktivite:

{
  id: "rafting",
  aliases: ["rafting", "nehir turu", "dalaman rafting"]
}


EÅŸleÅŸme:

Alias Ã¼zerinden yapÄ±lÄ±r

Name sadece display iÃ§in

9ï¸âƒ£ â€œAI Ekleyelim mi?â€ BaskÄ±sÄ± (YanlÄ±ÅŸ Yerde)
ğŸ”´ Sorun

Ä°leride biri der ki:

â€œHer ÅŸeyi AIâ€™ya baÄŸlayalÄ±mâ€

Bu, sistemi tekrar bozar.

ğŸŸ¢ Ã–nlem

BaÅŸÄ±ndan kural koy:

AI = presentation layer

Logic = rule engine

Bu ayrÄ±mÄ± dokÃ¼mante et.

ğŸ§© Ã–ZET TABLO
Risk	Ã–nlem
YanlÄ±ÅŸ intent	Priority + regex
Aktivite kaybÄ±	Session context
BroÅŸÃ¼r cevap	Max sentence rule
AlakasÄ±z cevap	Strict fallback
DÃ¶ngÃ¼	Repeat guard
Eski fiyat	No cache / TTL
Yetkili isteÄŸi	Hard override
Ã–lÃ§ek	Activity alias
AI kaosu	Layer separation
ğŸ¯ SONUÃ‡

SeÃ§tiÄŸin mimari:

âœ… DoÄŸru

âœ… Ã–lÃ§eklenebilir

âœ… Para kazandÄ±rÄ±r

Ama bu Ã¶nlemler uygulanmazsa,
2â€“3 ay sonra yine â€œbot saÃ§malÄ±yorâ€ noktasÄ±na gelinir.