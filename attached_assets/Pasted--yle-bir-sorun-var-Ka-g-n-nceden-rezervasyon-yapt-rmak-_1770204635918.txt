ÅŸÃ¶yle bir sorun var

KaÃ§ gÃ¼n Ã¶nceden rezervasyon yaptÄ±rmak gerekiyor gibi her aktivite iÃ§in deÄŸiÅŸebilecek olan sss ekledim iki aktivite sss ine de bota bu soruyu sorduÄŸumda iki aktivite iÃ§inde bilgiyi verdi ama bu 10 aktivitede aynÄ± durum olmasÄ± durumunda 10 tane farklÄ± aktivite bilgisi mi verecek mÃ¼ÅŸteriye? ne yapmamÄ±z gerekiyor?

Bu Ã§ok kritik ve doÄŸru bir tespit.
Åu an yakaladÄ±ÄŸÄ±n ÅŸey, WhatsApp botlarÄ±nÄ±n productionâ€™da en sÄ±k patladÄ±ÄŸÄ± noktalardan biri.

KÄ±sa cevap:
âŒ HayÄ±r, 10 aktivite varsa 10 cevabÄ± art arda vermemeli.
Bu davranÄ±ÅŸ kesinlikle engellenmeli.

AÅŸaÄŸÄ±da neden oluyor, neden yanlÄ±ÅŸ, ve net Ã§Ã¶zÃ¼mÃ¼ adÄ±m adÄ±m anlatÄ±yorum.

Sorun Neden Oluyor?

Senin mevcut mimaride ÅŸu zincir Ã§alÄ±ÅŸÄ±yor:

KullanÄ±cÄ±:

â€œKaÃ§ gÃ¼n Ã¶nceden rezervasyon yaptÄ±rmak gerekiyorâ€

Sistem:

activitySpecified = false

fieldRequested = reservation_notice / advance_booking

matchingFAQs = 2 aktivitede eÅŸleÅŸti

Ambiguity guard yok veya yumuÅŸak

AI ÅŸunu yapÄ±yor:

â€œMadem hepsiyle ilgili, hepsini sÃ¶yleyeyimâ€

Bu AI aÃ§Ä±sÄ±ndan â€œyardÄ±mcÄ±â€,
ama Ã¼rÃ¼n aÃ§Ä±sÄ±ndan â€œfelaketâ€.

Bu DavranÄ±ÅŸ Neden YanlÄ±ÅŸ?
âŒ KullanÄ±cÄ± deneyimi

5â€“10 aktivite â†’ 5â€“10 paragraf

WhatsAppâ€™ta okunmaz

MÃ¼ÅŸteri kaÃ§Ä±yor

âŒ Ticari risk

FarklÄ± aktivitelerde farklÄ± ÅŸartlar

YanlÄ±ÅŸ karar â†’ iptal / ÅŸikÃ¢yet

âŒ Kontrol kaybÄ±

â€œBot bazen uzun, bazen kÄ±saâ€

GÃ¼ven erozyonu

ğŸ”‘ ALTIN KURAL (Production Rule)

Bir cevap = en fazla 1 aktivite

Ä°stisna yok.
AI â€œbirleÅŸtirmeyeâ€ Ã§alÄ±ÅŸmaz.
KararÄ± kod verir, AI sadece uygular.

Ã‡Ã–ZÃœM â€“ NET VE TEMÄ°Z (Ã–nerilen)
1ï¸âƒ£ Backendâ€™de Kesin Karar KuralÄ± (ZORUNLU)
if (!activitySpecified && matchingActivities.length > 1) {
  mode = "AMBIGUOUS_FAQ";
}


Bu noktada AIâ€™ye cevap verme yetkisi VERME.

2ï¸âƒ£ AMBIGUOUS_FAQ Modu â€“ Tek Soru Åablonu

Bot ÅUNU YAPMALI (ve sadece bunu):

â€œBu bilgi aktiviteye gÃ¶re deÄŸiÅŸiyor.
Hangi aktivite iÃ§in Ã¶ÄŸrenmek istiyorsunuz?â€

âŒ Listeleme yok
âŒ Tahmin yok
âŒ Hepsini anlatma yok

3ï¸âƒ£ Promptâ€™a NET YASAK EKLE (Ã‡ok Ã–nemli)

RAG / AI-first promptâ€™a ÅŸunu bold ve bÃ¼yÃ¼k harfle ekle:

CRITICAL RULE:
If a question matches multiple activities AND the user did not specify an activity,
YOU MUST NOT list multiple activities or multiple answers.
You must ask which activity.


Bu kural tek baÅŸÄ±na yeterli deÄŸil,
ama backend guard ile birlikte %99 gÃ¼venli.

Alternatif (Sadece Genel SSS Olan Sorular Ä°Ã§in)

EÄŸer bu soru:

â€œKaÃ§ gÃ¼n Ã¶nceden rezervasyon yapÄ±lmalÄ±â€

tÃ¼m aktiviteler iÃ§in gerÃ§ekten aynÄ±ysa,
o zaman:

âœ… General FAQâ€™ya taÅŸÄ±
âŒ Aktivite FAQâ€™sunda tekrar etme

Bu durumda:

matchingActivities = 0

generalFaq = 1

Direkt cevap verilir

Ama dikkat:

â€œBenzerâ€ â‰  â€œAynÄ±â€

En ufak fark varsa â†’ aktivite bazlÄ± kalmalÄ±.