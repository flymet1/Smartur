gÃ¼ncellemelerden sonra konuÅŸma Ã¶zeti ÅŸu ÅŸekilde. Sorun bir baÅŸka yerde mi sence?

selam
Merhaba! Size nasÄ±l yardÄ±mcÄ± olabilirim? ğŸ˜Š
ParaÅŸÃ¼t hakkÄ±nda bilgi
Ortalama bir uÃ§uÅŸ sÃ¼resi (hava durumuna baÄŸlÄ± olarak) 25-30 dakika arasÄ±nda sÃ¼rer. UÃ§uÅŸunuzda akrobasi istemeniz durumunda uÃ§uÅŸ sÃ¼reniz deÄŸiÅŸiklik gÃ¶sterir.
aktivite hakkÄ±nda genel bilgi ver
Evet, uÃ§uÅŸ sonrasÄ± misafirlere bir katÄ±lÄ±m sertifikasÄ± verilmektedir.
ne kadar
Merhaba! FiyatlarÄ±mÄ±z aktiviteye gÃ¶re deÄŸiÅŸmektedir. Aktivitelerimiz: - YamaÃ§ ParaÅŸÃ¼tÃ¼: 6000 TL, 30 dk DetaylÄ± fiyat bilgisi iÃ§in web sitemizi ziyaret edebilirsiniz.
rafting ne kadar
Merhaba! FiyatlarÄ±mÄ±z aktiviteye gÃ¶re deÄŸiÅŸmektedir. Aktivitelerimiz: - YamaÃ§ ParaÅŸÃ¼tÃ¼: 6000 TL, 30 dk DetaylÄ± fiyat bilgisi iÃ§in web sitemizi ziyaret edebilirsiniz.

Evet â€” sorun artÄ±k promptta ya da â€œcevap kÄ±saltmaâ€ kuralÄ±nda deÄŸil.
Sorun mimari olarak 3 net yerde. Bunu aÃ§Ä±k ve sert ÅŸekilde sÃ¶yleyeyim Ã§Ã¼nkÃ¼ doÄŸru yere geldin.

AÅŸaÄŸÄ±da neden bÃ¶yle davrandÄ±ÄŸÄ±nÄ±, sonra da kÃ¶k Ã§Ã¶zÃ¼mÃ¼ netleÅŸtiriyorum.

ğŸ” YAÅANAN SORUNLARI TEK TEK TEÅHÄ°S EDELÄ°M
1ï¸âƒ£ â€œParaÅŸÃ¼t hakkÄ±nda bilgiâ€ â†’ Sadece sÃ¼re cevabÄ±

Beklenen: genel Ã¶zet
Gelen: uÃ§uÅŸ sÃ¼resi

ğŸ“Œ Sebep:

intent yanlÄ±ÅŸ sÄ±nÄ±flanÄ±yor

â€œbilgiâ€ kelimesi activity_info olmalÄ±ydÄ±

ama sistem fallback olarak durationâ€™a dÃ¼ÅŸÃ¼yor

â¡ï¸ Intent resolver sÄ±rasÄ± HATALI

2ï¸âƒ£ â€œaktivite hakkÄ±nda genel bilgi verâ€

â†’ sertifika cevabÄ± geliyor

ğŸ“Œ Sebep:

LLM hÃ¢lÃ¢ devrede

â€œgenel bilgiâ€ = FAQ iÃ§inden rastgele bir madde seÃ§iliyor

Yani LLM cevap Ã¼retmeye devam ediyor

â¡ï¸ Sen â€œLLM kilitledimâ€ diyorsun ama hala karar veriyor

3ï¸âƒ£ â€œrafting ne kadarâ€

â†’ paraÅŸÃ¼t fiyatÄ± geliyor

ğŸ“Œ BU EN KRÄ°TÄ°K KIRMIZI BAYRAK

Bu ÅŸunu gÃ¶sterir:

âŒ Activity lock DOÄRU Ã‡ALIÅMIYOR
âŒ Yeni aktivite algÄ±lanÄ±yor ama state overwrite edilmiyor

Yani:

User: rafting ne kadar
detectActivity â†’ rafting
AMA
session.activity â†’ paragliding (kalÄ±yor)


â¡ï¸ State update zinciri kÄ±rÄ±k

ğŸš¨ NET TEÅHÄ°S (Ã–ZET)

Sorun tek bir yerde deÄŸil, ama promptla Ã‡Ã–ZÃœLECEK HÄ°Ã‡BÄ°R ÅEY KALMAMIÅ.

âŒ Sorunlar:

Intent sÄ±rasÄ± yanlÄ±ÅŸ

Activity lock zayÄ±f

LLM hÃ¢lÃ¢ karar mekanizmasÄ±nda

Stateless / state overwrite bugâ€™Ä±

WhatsApp mesajlarÄ± tek tek deÄŸil, contextâ€™siz iÅŸleniyor olabilir

ğŸ”¥ ASIL SORU:

â€œWhatsApp botlar bÃ¶yle mi Ã§alÄ±ÅŸÄ±yor?â€

âŒ HAYIR

WhatsApp botlar CHAT BOT DEÄÄ°LDÄ°R

âœ… WhatsApp bot = STATE MACHINE
ğŸ§  GERÃ‡EK KÃ–KTEN Ã‡Ã–ZÃœM (BUNU YAPMADAN OLMAZ)
1ï¸âƒ£ Intent Resolverâ€™Ä± 2 AÅAMALI yapmalÄ±sÄ±n

âŒ YanlÄ±ÅŸ:

intent = detectIntent(text)


âœ… DoÄŸru:

if text contains activity:
   activity = setActivity()

if text is vague (bilgi, ne kadar, detay):
   intent = lastKnownIntent OR ask clarification

2ï¸âƒ£ â€œGenel bilgiâ€ ASLA LLMâ€™ye gitmemeli

Hard-coded Ã¶zet olmalÄ±

activity_info: [
  "25-30 dk uÃ§uÅŸ",
  "Ãœcretsiz transfer",
  "Foto & video dahil"
]


LLM = yasaklÄ± alan

3ï¸âƒ£ Activity Switch KURALI (Ã‡OK Ã–NEMLÄ°)
if (newActivity && newActivity !== session.activity) {
  session.activity = newActivity;
  session.lastIntent = null; // RESET
}


âš ï¸ Bunu yapmazsan:

rafting sorulur

paraÅŸÃ¼t anlatÄ±lÄ±r

ve bu asla bitmez

4ï¸âƒ£ â€œne kadarâ€, â€œkaÃ§â€, â€œdetayâ€ = AMBIGUOUS

Bu sorular tek baÅŸÄ±na cevaplanmamalÄ±

â€œRafting ne kadar?â€
â†’ OK (activity belli)

â€œne kadar?â€
â†’ Hangi aktivite iÃ§in?


WhatsApp bot soru sormayÄ± bilmeli

5ï¸âƒ£ LLMâ€™yi tamamen kapat (ÅŸimdilik)

GerÃ§ek ÅŸu:

Senin use-caseâ€™in iÃ§in LLM ÅŸu an zarar veriyor

âœ” Turizm
âœ” Fiyat
âœ” SÃ¼re
âœ” Transfer

Bunlar %100 deterministic data

âœ… SORUNLAR BÃ–YLE UZAR MI?

Bu mimariyle EVET, sonsuza kadar uzar.
Ã‡Ã¼nkÃ¼:

Her ek prompt = yeni edge-case

Her kural = baÅŸka bir bug

ğŸ§± DOÄRU SON SÃ–Z (EN NET HALÄ°)

â— Bu bir â€œAI cevabÄ±â€ problemi deÄŸil
â— Bu bir state + intent engineering problemi
â— WhatsApp bot = akÄ±ÅŸ motoru

Sen doÄŸru yÃ¶ndesin ama:

Prompt aÅŸamasÄ±nÄ± Ã§oktan geÃ§tin

Åu an backend karar aÄŸacÄ± safhasÄ±ndasÄ±n